# Snapshot

## Purpose 

Stores the state of a [change](./20-change.md).

## Description

The snapshot is used to re-apply changes, revert changes, compare changes, and more.

## Technical Details

- Snapshot's are [content adressable](https://en.wikipedia.org/wiki/Content-addressable_storage) to save storage. 

- IDs are generated by hashing the content of the snapshot.

- If a snapshot is empty (e.g., a file is empty), the snapshot is has a special ID `empty-content`.

## Examples

### CSV File Format

An examplary csv plugin tracks changes in rows. Hence, the snapshot is a row.

Suppose the following table is a CSV file:

| id | name | age |
|----|------|-----|
| 1  | John | 25  |

The snapshot of the row with `id=1` is:

`1, John, 25`

Someone updates John's age from 25 to 26. 

| id | name | age |
|----|------|-----|
| 1  | John | 26  |

The snapshot of the row with `id=1` after the change is:

`1, John, 26`

